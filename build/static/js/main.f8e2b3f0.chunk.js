(this["webpackJsonpshort-film"]=this["webpackJsonpshort-film"]||[]).push([[0],{116:function(e,a){},118:function(e,a){},130:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(67),c=t.n(i);t(82),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=t(74),o=t(1),s=t(68),d=function(e){return r.a.createElement("button",{onClick:function(){var a=Object(s.v1)();e.history.push("/room/".concat(a))}},"Create room")},m=t(75),v=t(76),u=t(34),p=t(69),h=t.n(p),E=t(35),g=t.n(E),f=t(36),N=t(70),b=t.n(N),w=function(){return Object(n.useEffect)((function(){var e=document.createElement("script");e.src="/path/to/twivid.js",e.async=!0,document.body.appendChild(e),console.log("React : ",b()("video").get(0))}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"video"},r.a.createElement("div",{className:"video-preview"},r.a.createElement("button",{className:"video-start-btn"},r.a.createElement("svg",{width:"60",height:"60",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{d:"M256,0C114.833,0,0,114.844,0,256s114.833,256,256,256s256-114.844,256-256S397.167,0,256,0z M357.771,264.969 l-149.333,96c-1.75,1.135-3.771,1.698-5.771,1.698c-1.75,0-3.521-0.438-5.104-1.302C194.125,359.49,192,355.906,192,352V160 c0-3.906,2.125-7.49,5.563-9.365c3.375-1.854,7.604-1.74,10.875,0.396l149.333,96c3.042,1.958,4.896,5.344,4.896,8.969 S360.813,263.01,357.771,264.969z"})))),r.a.createElement("div",{className:"video-top"}),r.a.createElement("div",{className:"anim play-anim"},r.a.createElement("img",{className:"anim-img",src:"/static-img/play.png",alt:"as",width:"20",height:"20"})),r.a.createElement("div",{className:"video-loading"},r.a.createElement("div",{className:"video-loading-spinner"})),r.a.createElement("div",{className:"video-reset"},r.a.createElement("button",{className:"video-reset-btn"},"Watch again")),r.a.createElement("div",{className:"video-player-controls"},r.a.createElement("div",{className:"video-slider"},r.a.createElement("div",{className:"video-slider-tooltip"},"hi"),r.a.createElement("div",{className:"video-slider-container"},r.a.createElement("div",{className:"video-slider-bg"},r.a.createElement("div",{className:"video-slider-buffered"}),r.a.createElement("div",{className:"video-slider-rail"}),r.a.createElement("div",{className:"video-slider-buffer"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"video-control"},r.a.createElement("button",{className:"video-control-btn"},r.a.createElement("svg",{className:"video-control-play",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",shapeRendering:"geometricPrecision"},r.a.createElement("polygon",{points:"5 3 19 12 5 21 5 3",fill:"currentColor"})),r.a.createElement("svg",{className:"video-control-pause",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",shapeRendering:"geometricPrecision"},r.a.createElement("rect",{x:"6",y:"4",width:"4",height:"16",fill:"currentColor"}),r.a.createElement("rect",{x:"14",y:"4",width:"4",height:"16",fill:"currentColor"})))),r.a.createElement("div",{className:"video-counts"},r.a.createElement("span",{className:"video-count-time"},"0:00"),r.a.createElement("span",{className:"video-count-line"},"/"),r.a.createElement("span",{className:"video-count-fulltime"},"0:00")),r.a.createElement("div",{className:"video-pixel-rate"},r.a.createElement("div",{className:"video-pixel-box"},r.a.createElement("div",{className:"video-pixel"},"Low"),r.a.createElement("div",{className:"video-pixel"},"Medium"),r.a.createElement("div",{className:"video-pixel"},"High")),r.a.createElement("div",{className:"video-pixel-speed"},"High"))),r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"video-voice"},r.a.createElement("div",{className:"video-voice-slider"},r.a.createElement("div",{className:"video-voice-slider-rail",role:"slider","aria-valuemax":"1","aria-valuemin":"0","aria-valuenow":"1"},r.a.createElement("div",{className:"video-voice-slider-buffer"}),r.a.createElement("input",{className:"video-voice-slider-range",type:"range",min:"0",max:"1",defaultValue:"1",step:"0.01"}))),r.a.createElement("button",{className:"video-voice-btn"},r.a.createElement("svg",{className:"video-voice-on",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},r.a.createElement("path",{d:"M11 5L6 9H2v6h4l5 4V5z"}),r.a.createElement("path",{d:"M19.07 4.93a10 10 0 010 14.14M15.54 8.46a5 5 0 010 7.07"})),r.a.createElement("svg",{className:"video-voice-off",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},r.a.createElement("path",{d:"M11 5L6 9H2v6h4l5 4V5z"}),r.a.createElement("path",{d:"M23 9l-6 6"}),r.a.createElement("path",{d:"M17 9l6 6"})))),r.a.createElement("div",{className:"video-playback-rate"},r.a.createElement("div",{className:"video-playback-box"},r.a.createElement("div",{className:"video-playback"},"0.25"),r.a.createElement("div",{className:"video-playback"},"0.50"),r.a.createElement("div",{className:"video-playback"},"0.75"),r.a.createElement("div",{className:"video-playback"},"Normal"),r.a.createElement("div",{className:"video-playback"},"1.25"),r.a.createElement("div",{className:"video-playback"},"1.50"),r.a.createElement("div",{className:"video-playback"},"1.75"),r.a.createElement("div",{className:"video-playback"},"2.0")),r.a.createElement("div",{className:"video-playback-speed"},"Normal")),r.a.createElement("div",{className:"video-pip",disabled:!0},r.a.createElement("img",{src:"pip.png",alt:"pip"})),r.a.createElement("div",{className:"full-screen"},r.a.createElement("button",{className:"full-screen-btn"},r.a.createElement("svg",{className:"full-screen-open",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},r.a.createElement("path",{d:"M15 3h6v6"}),r.a.createElement("path",{d:"M9 21H3v-6"}),r.a.createElement("path",{d:"M21 3l-7 7"}),r.a.createElement("path",{d:"M3 21l7-7"})),r.a.createElement("svg",{className:"full-screen-exit",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},r.a.createElement("path",{d:"M4 14h6v6"}),r.a.createElement("path",{d:"M20 10h-6V4"}),r.a.createElement("path",{d:"M14 10l7-7"}),r.a.createElement("path",{d:"M3 21l7-7"}))))))),r.a.createElement("div",{className:"video-player"},r.a.createElement("video",{tabIndex:"-1",datavideo:"",preload:"auto",controlsList:"nodownload",crossOrigin:"anonymous"},r.a.createElement("source",{id:"vid",src:"https://res.cloudinary.com/earthy/video/upload/v1605796874/vikram_720_lx1c12.mp4",type:"video/mp4"})))),r.a.createElement("canvas",{id:"canvas"}))};function k(){var e=Object(u.a)(["\n    height: 40%;\n    width: 50%;\n"]);return k=function(){return e},e}function y(){var e=Object(u.a)(["\n    padding: 20px;\n    display: flex;\n    height: 100vh;\n    width: 90%;\n    margin: auto;\n    flex-wrap: wrap;\n"]);return y=function(){return e},e}var x=f.a.div(y()),j=f.a.video(k()),M=function(e){var a=Object(n.useRef)();return Object(n.useEffect)((function(){e.peer.on("stream",(function(e){a.current.srcObject=e}))}),[]),r.a.createElement(j,{playsInline:!0,autoPlay:!0,ref:a})},L={height:window.innerHeight/2,width:window.innerWidth/2},O=function(e){var a=Object(n.useState)([]),t=Object(v.a)(a,2),i=t[0],c=t[1],l=Object(n.useRef)(),o=Object(n.useRef)(),s=Object(n.useRef)([]),d=e.match.params.roomID;return Object(n.useEffect)((function(){l.current=h.a.connect("http://localhost:4000",{transports:["websocket","polling","flashsocket"]}),navigator.mediaDevices.getUserMedia({video:L,audio:!0}).then((function(e){o.current.srcObject=e,l.current.emit("join room",d),l.current.on("all users",(function(a){var t=[];a.forEach((function(a){var n=function(e,a,t){var n=new g.a({initiator:!0,trickle:!1,stream:t});return n.on("signal",(function(t){l.current.emit("sending signal",{userToSignal:e,callerID:a,signal:t})})),n}(a,l.current.id,e);s.current.push({peerID:a,peer:n}),t.push(n)})),c(t)})),l.current.on("user joined",(function(a){var t=function(e,a,t){var n=new g.a({initiator:!1,trickle:!1,stream:t});return n.on("signal",(function(e){l.current.emit("returning signal",{signal:e,callerID:a})})),n.signal(e),n}(a.signal,a.callerID,e);s.current.push({peerID:a.callerID,peer:t}),c((function(e){return[].concat(Object(m.a)(e),[t])}))})),l.current.on("receiving returned signal",(function(e){s.current.find((function(a){return a.peerID===e.id})).peer.signal(e.signal)}))}))}),[]),console.log(i),r.a.createElement(x,null,r.a.createElement(j,{muted:!0,ref:o,autoPlay:!0,playsInline:!0}),i.map((function(e,a){return r.a.createElement(M,{key:a,peer:e})})),r.a.createElement(w,null))};var C=function(){return r.a.createElement(l.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:d}),r.a.createElement(o.a,{path:"/room/:roomID",component:O})))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,a,t){e.exports=t(130)},82:function(e,a,t){}},[[77,1,2]]]);
//# sourceMappingURL=main.f8e2b3f0.chunk.js.map